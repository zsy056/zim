:plain
  if(document.getElementById('ecgrp-dialog-#{@contact_group.id}')) {
    $('#ecgrp-dialog-#{@contact_group.id}').wijdialog('open');
  } else { 
    $('#dialogs').append("#{escape_javascript(render(:partial => 'edit_form'))}");
    $('#ecgrp-dialog-#{@contact_group.id}').wijdialog({
      autoOpen: true,
      modal: true,
      buttons: {
        'Clear': function() {
          document.getElementById('ecgrp-form-#{@contact_group.id}').reset();
        },
        'Update': function() {
          $('#ecgrp-form-#{@contact_group.id}').submit();
        }
      },
      dialogClass: 'dialogWithDropShadow',
      hide: 'explode',
      collapsingAnimation: { 
        animated: "puff", duration: 300, easing: "easeOutExpo" },
      expandingAnimation: { 
        animated: "highlight", duration: 300, easing: "easeOutExpo" },
      title: 'Settings',
    });  
  }
