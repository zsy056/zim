:plain
  if(document.getElementById('new-cgroup-dialog')) {
    $('#new-cgroup-dialog').wijdialog('open');
  } else { 
    $('#dialogs').append("#{escape_javascript(render(:partial => 'new_cgroup_form'))}");
    $('#new-cgroup-dialog').wijdialog({
      title: 'New Contact Group',
      autoOpen: true,
      modal: true,
      width: 400,
      buttons: {
        'Clear': function() {
          document.getElementById('new-cgroup-form').reset();
        },
        'Add': function() {
          $('#new-cgroup-form').submit();
        }
      },
      dialogClass: 'dialogWithDropShadow',
      hide: 'explode',
      collapsingAnimation: { 
        animated: "puff", duration: 300, easing: "easeOutExpo" },
      expandingAnimation: { 
        animated: "highlight", duration: 300, easing: "easeOutExpo" }
    });  
  }
